---
title: 避免混淆在开发中带来的坑
date: 2017-02-25 00:45:33
tags: 编程
---

每次代码写完，debug没有问题，测试人员一旦打包好beta分支，总是会出现因为混淆导致数据错误的情况。比如封装好的支付模块，debug没问题，但是打包好的却会出现支付返回的类的字段成了null。把混淆关掉，问题就好了。

<!-- more -->

从做的第一个项目开始到现在，已经过去整整一年多了。因为混淆的问题，在演示或者product版本使用的时候，频繁出现功能不正常的情况。今天写下篇文章，一定要痛定思痛，吸取经验教训，不能再犯这样的错误了。

**一个项目的开发总共有三个环境**

1. alpha：开发
2. beta（demo）：用于演示和测试
3. product：生产环境

**问题来了，究竟应该怎么去避免debug没问题，打包测试或者product就出现问题**

- 开发人员
  本地配置打包环境，debug测试没问题后，一定要自己本地打包测试，确认没有问题，再提交代码
  试人员测试。
- 测试人员
  打包后，使用beta版本测试，并且测试app的所有功能，千万不能只测试修改的部分。这样测试人员能够及早发现因为混淆导致的功能不正常的bug。

由于混淆导致的问题应该坚决杜绝，因为混淆打包的问题，已经严重的影响了演示、产品的部署，肯定已经达到了领导的忍耐极限，也达到了我的忍耐极限。= =

**修改代码后务必做到以下步骤：**

1. debug测试
2. 本地打包测试
3. 提交代码

**运维人员应该注意的问题**
发布更新alpha环境后，beta环境的发布一定要从alpha同步过来，product环境的发布一定要从beta同步过来。
这样才能保证beta环境测试没有问题后，product同样没有问题。